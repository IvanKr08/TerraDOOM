# TerraDOOM
<sup>*Перед сборкой зависимости требуется доработать напильником*</sup>
![2037-155](https://github.com/user-attachments/assets/8da62dc6-83bd-4c8e-803d-2915a8104aef)
Немного удачная первоапрельская шутка из разряда "почему бы и нет?".

## Особенности
1. Игра на экране (в реальном времени!)
2. 16-цветов в разрешении 101x60, HUD
3. Ввод (стрейф не поддерживается)
4. Музыка
5. Проходим (наверное)
6. Работает без tModLoader/ресурс паков
7. Заменяемый WAD

Для работы требуется поместить все файлы TerraDOOM в папку с установкой Terraria, плюс необходим WAD-файл от желаемой игры. Взять их можно на [Archive.org](https://archive.org/) или [Old-DOS.ru](http://old-dos.ru/). В комплекте идет WAD от shareware версии Doom 1. Игра запускается через TerraDOOM.exe
   
## Как?
Технически TerraDOOM представляет из себя химеру [Managed Doom](https://github.com/sinshu/managed-doom) и Terraria. Terraria каждый кадр вызывает обработку логики Doom, а тот записывает в кусок мира свой экранный буфер. Изначальная версия работала поверх декомпилированной Terraria. Эта же имеет немного отличий и просто включает в себя Terraria как зависимость, запуская ее из себя, предварительно подцепившись к Main.OnPreDraw. Это позволило повысить стабильность, убрать необходимость явно влезать в код Terraria и опубликовать порт в открытый доступ. Лицензия унаследована от Managed Doom.

## TODO
+ Привести код в приличное состояние
+ Улучшить систему ввода
+ Больше музыки. Возможно ресурспак с оригинальной музыкой и залитой текстурой ламп для экрана
+ Исправить палитру экрана (можно попробовать взять ее из FastDoom для EGA)
